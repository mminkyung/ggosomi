<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>GOSOMI</title>

    <link rel = "stylesheet" href = "../static/css/home.css">
    <link rel = "stylesheet" href = "../static/css/pagePhoto.css">
    <link rel = "stylesheet" href = "../../gosoForm/static/detail_post.css">

    <script type="text/javascript" src="../static/js/home.js"></script>

</head>
<body>
    <section> 
        <div class="bg"></div>
        <div class = "loginout_button">
            {% if user.is_authenticated %}
                <a href="{% url 'logout' %}" id="logout_button">Log Out</a> 
            
                {% else %}
                    <a href="{% url 'signup' %}" id="signup_button">Sign Up</a>
            {% endif%}
        </div>
        

        <nav id = "navbar">
            <ul>
                <li class="nav-item">
                    <a class = "navmenu" href="{% url 'home' %}">Home</a>
                </li>
                <li class="nav-item">
                    <a class = "navmenu" href="#">악플러-고발게시판</a> 
                </li>
                <li class="nav-item">
                    <a class = "navmenu" href="{% url 'upload' %}">고소하기</a>
                </li>
                <li class="nav-item">
                    <a class = "navmenu" href="{% url 'mypage' %}">마이페이지</a>
                </li>
            </ul>
        </nav>
        {%block content%}
        {%endblock%}
        <div class="coutereffect" style = "margin-top : 150px; float : left; padding : 20px;">
            <p id="counter1" ></p>
            <p id="counter2"></p>
            <p id="counter3"></p>
        </div>
        

    </section>
    <!-- 숫자효과 유저들 수 보여주기 -->
    <script>
        function numberCounter(target_frame, target_number) {
            this.count = 0; this.diff = 0;
            this.target_count = parseInt(target_number);
            this.target_frame = document.getElementById(target_frame);
            this.timer = null;
            this.counter();
        };

        numberCounter.prototype.counter = function () {
            var self = this;
            this.diff = this.target_count - this.count;

            if (this.diff > 0) {
                self.count += Math.ceil(this.diff / 5);
            }

            this.target_frame.innerHTML = this.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');

            if (this.count < this.target_count) {
                this.timer = setTimeout(function () { self.counter(); }, 20);
            } else {
                clearTimeout(this.timer);
            }
        };
        // const choices_name = JSON.parse(user.size());
        new numberCounter("counter1", 99999);
        new numberCounter("counter2", 21565748);
        new numberCounter("counter3", 121554864865);

    </script>
    
</body>
</html>